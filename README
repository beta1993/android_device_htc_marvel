Device configuration for the HTC Marvel

Copyright (C) 2011 The CyanogenMod Project
Copyright (C) 2012 Andreas Schneider <asn@cryptomilk.org>

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

------------------------------------------------------------------

* Description

  This repository is for CM10 on HTC Marvel.
  It is still a work in progress.


* Boardinfo

  - Touchscreen
    Cypress CY8C_TMA

  - Sensors
    Gsensor: BOSCH_BMA150
    Compass: AKM8975
    Battery: TPS65200
    Light:   CM3602


* How To Build CM10 for HTC Marvel

  - Make a workspace

  $ mkdir -p ~/cyanogenmod/system
  $ cd ~/cyanogenmod/system


  - Do repo init & sync

  $ repo init -u git://github.com/CyanogenMod/android.git -b jellybean


  - Create .repo/local_manifest.xml with the following content:

<?xml version="1.0" encoding="UTF-8"?>
  <manifest>
      <project name="MarvellousAndroid/android_device_htc_common" path="device/htc/common" revision="gingerbread" />
      <project name="MarvellousAndroid/android_device_htc_marvel" path="device/htc/marvel" />
      <project name="MarvellousAndroid/android_device_htc_marvel-common" path="device/htc/marvel-common" />
      <project name="MarvellousAndroid/android_device_htc_msm7x27-common" path="device/htc/msm7x27-common" />
      <project name="MarvellousAndroid/android_device_htc_msm7x27-recovery" path="device/htc/msm7x27-recovery" />
      <project name="MarvellousAndroid/android_kernel_htc_msm7227" path="kernel/htc/msm7227" />
      <project name="MarvellousAndroid/android_vendor_htc_marvel" path="vendor/htc/marvel" />
      <project name="MarvellousAndroid/android_vendor_qcom_msm7x27" path="vendor/qcom/msm7x27" />
  </manifest>

  $ repo sync

  - Apply patches, we need to apply some patches on upstream code to fix things:

http://review.cyanogenmod.com/#/c/14631 (Camera)
http://review.cyanogenmod.com/#/c/15058/ (GPS)
http://review.cyanogenmod.com/#/c/25842/ (OMX stuff)
http://review.cyanogenmod.com/#/c/25116/ (Graphics - Untested)

  So... type this:

cd bionic;git fetch http://review.cyanogenmod.com/CyanogenMod/android_bionic refs/changes/31/14631/1 && git cherry-pick FETCH_HEAD;cd ..;cd hardware/msm7k;git fetch http://review.cyanogenmod.com/CyanogenMod/android_hardware_msm7k refs/changes/58/15058/3 && git cherry-pick FETCH_HEAD;cd ..;cd ..;cd frameworks/native;git fetch http://review.cyanogenmod.com/CyanogenMod/android_frameworks_native refs/changes/16/25116/1 && git cherry-pick FETCH_HEAD;cd ..;cd av;git fetch http://review.cyanogenmod.com/CyanogenMod/android_frameworks_av refs/changes/42/25842/1 && git cherry-pick FETCH_HEAD;cd ..;cd ..

  - Setup vendor

  $ ./vendor/cm/get-prebuilts


  - Setup environment

  $ source build/envsetup.sh
  $ lunch cm_marvel-eng


  - Build CM10

  $ export USE_CCACHE=1
  $ make -j8 bacon


* Thanks

  CyanogenMod
  alquez
  Droste
  pabloPL
  modpunk(gladiac)
 
----
EOF
